<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>初页预览</title>
    <meta name="mobileoptimized" content="0"/>
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="screen-orientation" content="portrait">
    <meta name="browsermode" content="application">

    <script src="../lib/zach/client.js"></script>
    <script>
        window.chuye = window.chuyePreview = true;
        main( function () {
            var $ = imports( "element" );
            var debug = imports( "../debug.js" );

            window.firstpage = {
                startAnimationEdit : function () {
                    var ok = $( "button.need-default", {
                        css : {
                            position : "absolute",
                            "z-index" : 10000,
                            right : 0,
                            top : "250px"
                        },
                        innerHTML : "确定"
                    }, document.body );
                    var cancel = $( "button.need-default", {
                        css : {
                            position : "absolute",
                            "z-index" : 10000,
                            right : 0,
                            top : "300px"
                        },
                        innerHTML : "取消"
                    }, document.body );

                    $.bind( ok, "click", function () {
                        $.remove( ok );
                        $.remove( cancel );
                        firstpage.completeAnimationEdit();
                    } );
                    $.bind( cancel, "click", function () {
                        $.remove( ok );
                        $.remove( cancel );
                        firstpage.cancelAnimationEdit();
                    } );
                },
                selectAnimation : function ( pageId, animationId ) {
                    console.log( pageId, animationId );
                }
            };

            debug.work( function () {
                debug.loadEnvironment( debug.runFirstPage );
            } );
        } );
    </script>
</head>
<body>
</body>
</html>